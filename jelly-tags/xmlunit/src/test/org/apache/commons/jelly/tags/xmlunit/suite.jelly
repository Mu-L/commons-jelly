<?xml version="1.0"?>
<test:suite 
	xmlns:j="jelly:core" 
	xmlns:x="jelly:xml" 
	xmlns:test="jelly:junit" 
	xmlns:log="jelly:log"
	xmlns:xu="jelly:xmlunit">

	<test:case name="illegalArgument">

		<j:catch var="ex">
			<j:new var="illegalDoc" className="java.util.ArrayList"/>
			<xu:assertDocumentsEqual actual="${illegalDoc}">
				<xu:expected/>
			</xu:assertDocumentsEqual>
		</j:catch>

		<test:assert test="${ex != null}">An exception should have been thrown</test:assert>
		<log:info>The exception was ${ex.message}</log:info>

	</test:case>

	<test:case name="emptyDocuments">

		<xu:assertDocumentsEqual>
			<xu:actual/>
			<xu:expected/>
		</xu:assertDocumentsEqual>

	</test:case>

	<test:case name="sameDocument">

		<x:parse var="doc">
			<testDoc/>
		</x:parse>

		<xu:assertDocumentsEqual actual="${doc}" expected="${doc}"/>

		<xu:assertDocumentsEqual expected="${doc}">
			<xu:actual>
				<testDoc/>
			</xu:actual>
		</xu:assertDocumentsEqual>

	</test:case>

	<test:case name="differentDocuments">

		<j:catch var="ex">
			<x:parse var="doc1">
				<testDoc1/>
			</x:parse>
			<x:parse var="doc2">
				<testDoc2/>
			</x:parse>
			<xu:assertDocumentsEqual actual="${doc1}" expected="${doc2}"/>
		</j:catch>

		<test:assert test="${ex != null}">An exception should have been thrown</test:assert>
		<log:info>The exception was ${ex.message}</log:info>

	</test:case>

	<test:case name="ignoreWhitespace">

		<xu:assertDocumentsEqual trim="false" ignoreWhitespace="true">
			<xu:actual>
				<apa> </apa>
			</xu:actual>
			<xu:expected>
				<apa/>
			</xu:expected>
		</xu:assertDocumentsEqual>

		<j:catch var="ex">
			<xu:assertDocumentsEqual trim="false">
				<xu:actual>
					<apa> </apa>
				</xu:actual>
				<xu:expected>
					<apa/>
				</xu:expected>
			</xu:assertDocumentsEqual>
		</j:catch>

		<test:assert test="${ex != null}">An exception should have been thrown</test:assert>
		<log:info>The exception was ${ex.message}</log:info>

	</test:case>

</test:suite>
