<project default="java:jar">

	<!-- define the classpath --> 
	<goal name="create-classpath" prereqs="java:compile,test:compile"> 
		<path id="test.classpath"> 
			<pathelement path="${maven.build.dest}"/> 
			<pathelement path="target/classes"/> 
			<pathelement path="target/test-classes"/> 
			<path refid="maven.dependency.classpath"/> 
		</path> 
	</goal> 

	<!-- demos-->
	
  <goal name="demo:html" prereqs="create-classpath"
		description="Runs the example of parsing HTML with jelly">

    <java classname="org.apache.commons.jelly.Jelly" fork="yes">
      <classpath refid="test.classpath"/>
      <arg value="src/test/org/apache/commons/jelly/html/example.jelly"/>
    </java>
  </goal>

  <goal name="demo:text" prereqs="create-classpath"
		description="Runs the example of parsing text with tags via jelly">

    <java classname="org.apache.commons.jelly.Jelly" fork="yes">
      <classpath refid="test.classpath"/>
      <arg value="src/test/org/apache/commons/jelly/html/example2.jelly"/>
    </java>
  </goal>


  <goal name="demo:radio2pda" prereqs="create-classpath" 
  	description="Converts the HTML news output of Radio Userland to simple HTML viewable on a PDA"> 
    <java classname="org.apache.commons.jelly.Jelly" fork="yes"> 
      <classpath refid="test.classpath"/> 
      <arg value="src/test/org/apache/commons/jelly/html/radioToPDA.jelly"/> 
        <sysproperty key="outputFile" value="${pdaOutputFile}"/> 
     </java> 
  </goal> 

</project>
