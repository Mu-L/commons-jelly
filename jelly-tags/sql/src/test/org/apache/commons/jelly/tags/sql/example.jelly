<?xml version="1.0"?>

<j:jelly xmlns:j="jelly:core" xmlns:sql="jelly:sql">

  <sql:setDataSource 
    url="${databaseUrl}" 
    driver="${databaseDriver}" 
    user="${databaseUser}"
    password="${databasePassword}"/>

  <sql:query var="results">
      select * from ${databaseTable}
  </sql:query>

  <dataSet>

    <j:forEach items="${results.rowsByIndex}" var="row">
      <row>
        <j:forEach var="columnName" items="${results.columnNames}" indexVar="i">
          <field column="${columnName}">${row[i]}</field>                                
        </j:forEach>
      </row>
    </j:forEach>                  

  </dataSet>

</j:jelly>


