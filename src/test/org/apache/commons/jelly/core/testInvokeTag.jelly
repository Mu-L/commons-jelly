<j:jelly xmlns:j="jelly:core">

    <j:if test="${test.simpleInvoke}">
        <j:set var="namearg" value="Jane Doe"/>
        <j:new var="foo" className="org.apache.commons.jelly.bean.Customer"/>
        <j:invoke method="setName" on="${foo}">
            <j:arg value="${namearg}"/>
        </j:invoke>
        <j:invoke method="setCity" on="${foo}">
            <j:arg value="Chicago"/>
        </j:invoke>
        <j:invoke method="addOrder" on="${foo}">
            <j:arg><j:new className="org.apache.commons.jelly.bean.Order"/></j:arg>
        </j:invoke>
    </j:if>

    <j:if test="${test.invokeWithVar}">
        <j:new var="list" className="java.util.ArrayList"/>
        <j:invoke on="${list}" method="add"><j:arg value="One"/></j:invoke>
        <j:invoke on="${list}" method="add"><j:arg value="Two"/></j:invoke>
        <j:invoke on="${list}" method="add"><j:arg value="Three"/></j:invoke>
        <j:invoke on="${list}" method="size" var="size"/>
    </j:if>

    <j:if test="${test.invokeWithReturnedValueAsArg}">
        <j:new var="list" className="java.util.ArrayList"/>
        <j:invoke on="${list}" method="add"><j:arg value="Jane Doe"/></j:invoke>
        <j:invoke on="${list}" method="add"><j:arg value="Chicago"/></j:invoke>
        
        <j:new var="customer" className="org.apache.commons.jelly.bean.Customer">
            <j:arg><j:invoke on="${list}" method="get"><j:arg type="int" value="0"/></j:invoke></j:arg>
            <j:arg><j:invoke on="${list}" method="get"><j:arg type="int" value="1"/></j:invoke></j:arg>
        </j:new>
    </j:if>

    <j:if test="${test.invokeWithReturnedValueAsArgAndVar}">
        <j:new var="list" className="java.util.ArrayList"/>
        <j:invoke on="${list}" method="add"><j:arg value="Jane Doe"/></j:invoke>
        <j:invoke on="${list}" method="add"><j:arg value="Chicago"/></j:invoke>
        
        <j:new var="customer" className="org.apache.commons.jelly.bean.Customer">
            <j:arg><j:invoke on="${list}" method="get"><j:arg type="int" value="0"/></j:invoke></j:arg>
            <j:arg><j:invoke on="${list}" method="get" var="argtwo"><j:arg type="int" value="1"/></j:invoke></j:arg>
        </j:new>
    </j:if>

</j:jelly>
