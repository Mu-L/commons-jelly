<?xml version="1.0"?>
<jelly xmlns="jelly:core" xmlns:jms="jelly:jms">

About to send a JMS map message

<jms:connection name="queue">
  <jms:send>
    <jms:destination name="myQueue"/>
    <jms:mapMessage type="Order" correlationID="1234">
      <jms:mapEntry name="a" value="pizza"/>
      <jms:mapEntry name="b">cheese</jms:mapEntry>
      <jms:mapEntry name="c" value="${12 * 20}"/>
    </jms:mapMessage>
  </jms:send>

  <new className="java.util.HashMap" var="m"/>
  <set target="${m}" property="a" value="pizza"/>  
  <set target="${m}" property="b" value="1234"/>  
  <set target="${m}" property="c" value="${12+57}"/>  

Sending map message with map: ${m}
  
  <jms:send>
    <jms:destination name="myQueue"/>
    <jms:mapMessage type="Order2" correlationID="23456" map="${m}"/>
  </jms:send>
  
</jms:connection>

</jelly>
