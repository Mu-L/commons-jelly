<?xml version="1.0"?>
<j:jelly xmlns:j="jelly:core" xmlns="jelly:ant">

  <fileScanner var="scanner">
    <fileset dir="src/test" includes="**/*.jelly"/>
  </fileScanner>
    
  Iterating through build files
  
  <j:forEach var="file" items="${scanner.iterator()}">
  
    <!-- here we could parse the file or process it in some way -->
    <!-- such as by calling <ant> with the given build.xml file -->
      
    Found ${file.absolutePath}
  </j:forEach>

  <fileScanner var="dirscanner">
    <fileset dir="src/test" includes="org/apache/commons/jelly/**"/>
  </fileScanner>

  Iterating through test directories

  <j:forEach var="dir" items="${dirscanner.directories()}">
    <!-- here we could process the directory in some way -->
    <!-- such as creating a similar directory in a different base path -->
      
    Found ${dir.absolutePath}
  </j:forEach>

</j:jelly>
